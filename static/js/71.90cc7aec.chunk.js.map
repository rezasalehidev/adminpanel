{"version":3,"sources":["views/Product/Editproduct.js","views/Product/product.module.css","views/Media/Funcs.js"],"names":["Editproduct","props","useState","fname","ename","values","setValues","Subcategory","SubSubcategory","brand","setBrand","description","setDescription","imageServer","setImageServer","image","setImage","file","setFile","categoryId","setCategoryId","productiid","setProductiid","AllBrand","setAllBrand","allSpecs","setAllSpecs","Products","setPrudtcs","loading","setLoading","SubmitLoading","setSubmitLoading","useEffect","productId","match","params","axios","url","method","data","query","variables","page","limit","then","res","getAllProduct","valuespecs","orginal","category","_id","prev","catch","err","console","log","getAll","catId","getAllBrand","handleState","e","target","name","value","className","size","length","xs","row","htmlFor","type","id","placeholder","onChange","required","md","disabled","parent","map","item","index","key","style","width","height","color","IDValue","IDLabel","howspecs","specs","Classes","inputSpec","SpecID","copy","handleValueSpecs","label","handleValueLabelSpecs","dir","editor","ClassicEditor","lan","event","getData","descriptionHandler","contentsLanguage","centercontain","addFile","addImage","fileType","maxFileSize","files","privew","URL","createObjectURL","imageBrand","src","process","alt","onClick","toast","error","arraySpec","spec","push","formD","FormData","append","JSON","stringify","0","updateProduct","status","message","success","module","exports","dragDrop","dataTransfer","types","every","selectMaxFile"],"mappings":"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","file":"static/js/71.90cc7aec.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Col,\r\n  Row,\r\n  CardFooter,\r\n  Button,\r\n  Input,\r\n  FormGroup,\r\n  Label,\r\n} from \"reactstrap\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport axios from \"axios\";\r\nimport Spinner from \"reactstrap/lib/Spinner\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport Classes from \"./product.module.css\";\r\nimport { fileType, maxFileSize } from \"../Media/Funcs\";\r\n\r\nconst Editproduct = (props) => {\r\n  const [values, setValues] = useState({\r\n    fname: \"\",\r\n    ename: \"\",\r\n  });\r\n  const [Subcategory, setSubcategory] = useState(\"\");\r\n  const [SubSubcategory, setSubSubcategory] = useState(\"\");\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageServer, setImageServer] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [file, setFile] = useState(\"\");\r\n  const [categoryId, setCategoryId] = useState(\"\");\r\n  const [productiid, setProductiid] = useState(\"\");\r\n\r\n  const [AllBrand, setAllBrand] = useState([]);\r\n  const [allSpecs, setAllSpecs] = useState([]);\r\n  const [Products, setPrudtcs] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [SubmitLoading, setSubmitLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const { productId } = props.match.params;\r\n    setProductiid(productId);\r\n    setLoading(true);\r\n    axios({\r\n      url: \"/\",\r\n      method: \"post\",\r\n      data: {\r\n        query: `\r\n        query getAllProduct($page:Int,$limit:Int,$productId:ID){\r\n          getAllProduct(page:$page,limit:$limit,productId:$productId){\r\n            fname,\r\n            ename,\r\n            category{\r\n              _id,\r\n              name,\r\n              parent{\r\n                name,\r\n              }\r\n            },\r\n            orginal,\r\n            description,\r\n            brand{\r\n              name\r\n            },\r\n            attribute{\r\n              stock,\r\n              color,\r\n              price,\r\n              discount,\r\n              seller{\r\n                name\r\n              },\r\n              waranty{\r\n                name\r\n              }\r\n            },\r\n            valuespecs{\r\n              _id,\r\n              value,\r\n              howspecs{\r\n                _id,\r\n                name,\r\n                specs{\r\n                  name\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        `,\r\n        variables: {\r\n          page: 1,\r\n          limit: 10,\r\n          productId: productId,\r\n        },\r\n      },\r\n    })\r\n      .then((res) => {\r\n        const { getAllProduct } = res.data.data;\r\n        setAllSpecs(getAllProduct[0].valuespecs);\r\n        setImageServer(getAllProduct[0].orginal);\r\n        setCategoryId(getAllProduct[0].category._id);\r\n        setPrudtcs(getAllProduct);\r\n        setDescription(getAllProduct[0].description);\r\n        setValues((prev) => ({\r\n          ...prev,\r\n          fname: getAllProduct[0].fname,\r\n          ename: getAllProduct[0].ename,\r\n        }));\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [props.match.params]);\r\n\r\n  useEffect(() => {\r\n    //all brands\r\n    axios({\r\n      url: \"/\",\r\n      method: \"post\",\r\n      data: {\r\n        query: `\r\n        query getAllBrand($page:Int,$limit:Int,$getAll:Boolean,$catId:ID){\r\n          getAllBrand(input:{page:$page,limit:$limit,getAll:$getAll,catId:$catId}){\r\n            _id,\r\n            name,\r\n          }\r\n        }`,\r\n        variables: {\r\n          page: 1,\r\n          limit: 30,\r\n          getAll: false,\r\n          catId: categoryId,\r\n        },\r\n      },\r\n    })\r\n      .then((res) => {\r\n        const { getAllBrand } = res.data.data;\r\n        setAllBrand(getAllBrand);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [categoryId]);\r\n\r\n  const handleState = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleChangeBrand = (e) => {\r\n    setBrand(e.target.value);\r\n  };\r\n\r\n  const handleValueSpecs = (e, SpecID) => {\r\n    const copy = [...allSpecs];\r\n    const valueSpecs = copy[SpecID];\r\n    valueSpecs.value = e.target.value;\r\n    setAllSpecs(copy);\r\n  };\r\n\r\n  const handleValueLabelSpecs = (e, SpecID) => {\r\n    const copy = [...allSpecs];\r\n    const valueSpecs = copy[SpecID];\r\n    valueSpecs.label = e.target.value;\r\n    setAllSpecs(copy);\r\n  };\r\n\r\n  const descriptionHandler = (event, editor) => {\r\n    const data = editor.getData();\r\n    setDescription(data);\r\n  };\r\n\r\n  const handlerImage = (event) => {\r\n    setImageServer(null);\r\n    if (fileType(event, false) && maxFileSize(event, false)) {\r\n      setFile(event.target.files[0]);\r\n      const privew = URL.createObjectURL(event.target.files[0]);\r\n      setImage(privew);\r\n    }\r\n  };\r\n\r\n\r\n  const submitEditProduct = (e) => {\r\n    if (brand === \"\") {\r\n      toast.error(\"برند نباید خالی باشد\");\r\n      return false;\r\n    }\r\n\r\n    const arraySpec = [];\r\n    allSpecs.map((spec) =>\r\n      arraySpec.push({\r\n        _id: spec._id,\r\n        value: spec.value,\r\n        label: spec.label,\r\n      })\r\n    );\r\n\r\n    let data = {\r\n      query: `\r\n      mutation updateProduct($productId:ID!,$fname:String!,$ename:String!,$brand:ID!,$description:String!,$orginal:Upload,$valuespecs:[updateValueSpecs!]!){\r\n        updateProduct(input:{productId:$productId,fname:$fname,ename:$ename,brand:$brand,description:$description,orginal:$orginal,valuespecs:$valuespecs}){\r\n          status,\r\n          message\r\n        }\r\n      }`,\r\n      variables: {\r\n        productId: productiid,\r\n        fname: values.fname,\r\n        ename: values.ename,\r\n        brand: brand,\r\n        description: description,\r\n        orginal: null,\r\n        valuespecs: arraySpec,\r\n      },\r\n    };\r\n    if (image) {\r\n      let map = {\r\n        0: [\"variables.orginal\"],\r\n      };\r\n      const formD = new FormData();\r\n      formD.append(\"operations\", JSON.stringify(data));\r\n      formD.append(\"map\", JSON.stringify(map));\r\n      formD.append(0, file, file.name);\r\n\r\n      axios({\r\n        url: \"/\",\r\n        method: \"post\",\r\n        data: formD,\r\n      })\r\n        .then((res) => {\r\n          setSubmitLoading(false);\r\n          const { status, message } = res.data.data.updateProduct;\r\n          if (status === 200) {\r\n            toast.success(message);\r\n          } else {\r\n            toast.error(message);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      axios({\r\n        url: \"/\",\r\n        method: \"post\",\r\n        data: data,\r\n      })\r\n        .then((res) => {\r\n          setSubmitLoading(false);\r\n          const { status, message } = res.data.data.updateProduct;\r\n          if (status === 200) {\r\n            toast.success(message);\r\n          } else {\r\n            toast.error(message);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"animated fadeIn\">\r\n      <ToastContainer />\r\n      {loading ? (\r\n        <Spinner size=\"sm\" />\r\n      ) : Products.length > 0 ? (\r\n        <Row>\r\n          <Col xs=\"12\">\r\n            <Card>\r\n              <CardHeader>اضافه کردن محصولات</CardHeader>\r\n              <CardBody>\r\n                <FormGroup row>\r\n                  <Col xs=\"10\">\r\n                    <FormGroup>\r\n                      <Label htmlFor=\"title\">نام فارسی محصول</Label>\r\n                      <Input\r\n                        type=\"text\"\r\n                        id=\"title\"\r\n                        placeholder=\"نام فارسی محصول را وارد نمائید\"\r\n                        name=\"fname\"\r\n                        value={values.fname}\r\n                        onChange={handleState}\r\n                        required\r\n                      />\r\n                    </FormGroup>\r\n                  </Col>\r\n                  <Col xs=\"10\">\r\n                    <FormGroup>\r\n                      <Label htmlFor=\"label\">نام انگلیسی محصول</Label>\r\n                      <Input\r\n                        type=\"text\"\r\n                        id=\"label\"\r\n                        placeholder=\"نام انگلیسی محصول را وارد نمائید\"\r\n                        value={values.ename}\r\n                        onChange={handleState}\r\n                        name=\"ename\"\r\n                        required\r\n                      />\r\n                    </FormGroup>\r\n                  </Col>\r\n                  <Col xs=\"6\" md=\"3\">\r\n                    <FormGroup>\r\n                      <Label htmlFor=\"Maincategory\">دسته اصلی</Label>\r\n                      <Input\r\n                        type=\"select\"\r\n                        name=\"Maincategory\"\r\n                        id=\"Maincategory\"\r\n                        disabled\r\n                      >\r\n                        <option>{Products[0].category.parent.name}</option>\r\n                      </Input>\r\n                    </FormGroup>\r\n                  </Col>\r\n                  <Col xs=\"6\" md=\"3\">\r\n                    <FormGroup>\r\n                      <Label htmlFor=\"subMaincategory\">زیر دسته</Label>\r\n                      <Input\r\n                        type=\"select\"\r\n                        name=\"Subcategory\"\r\n                        id=\"Subcategory\"\r\n                        value={Subcategory}\r\n                        disabled\r\n                      >\r\n                        <option>\r\n                          {Products[0].category.name\r\n                            ? Products[0].category.name\r\n                            : null}\r\n                        </option>\r\n                      </Input>\r\n                    </FormGroup>\r\n                  </Col>\r\n\r\n                  <Col xs=\"6\" md=\"3\">\r\n                    <FormGroup>\r\n                      <Label htmlFor=\"subMaincategory\">زیر دسته دوم</Label>\r\n                      <Input\r\n                        type=\"select\"\r\n                        name=\"SubSubcategory\"\r\n                        id=\"SubSubcategory\"\r\n                        value={SubSubcategory}\r\n                        disabled\r\n                      >\r\n                        <option></option>\r\n                      </Input>\r\n                    </FormGroup>\r\n                  </Col>\r\n\r\n                  <Col xs=\"6\" md=\"3\">\r\n                    <FormGroup>\r\n                      <Label htmlFor=\"subMaincategory\">برند</Label>\r\n                      <Input\r\n                        type=\"select\"\r\n                        name=\"brand\"\r\n                        id=\"brand\"\r\n                        value={brand}\r\n                        onChange={handleChangeBrand}\r\n                      >\r\n                        <option></option>\r\n                        {AllBrand.map((item, index) => {\r\n                          return (\r\n                            <option key={index} value={item._id}>\r\n                              {item.name}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </Input>\r\n                    </FormGroup>\r\n                  </Col>\r\n                  <hr\r\n                    style={{ width: \"100%\", height: \"3px\", color: \"black\" }}\r\n                  ></hr>\r\n                </FormGroup>\r\n\r\n                {Products[0].valuespecs.length > 0\r\n                  ? Products[0].valuespecs.map((item, index) => {\r\n                      const IDValue = `name-${index}`;\r\n                      const IDLabel = `label-${index}`;\r\n                      return (\r\n                        <Row key={index}>\r\n                          <Col xs=\"12\" md=\"12\">\r\n                            <Card>\r\n                              <CardHeader>\r\n                                <Label htmlFor=\"valueSeller\">\r\n                                  {item.howspecs.specs.name}\r\n                                </Label>\r\n                              </CardHeader>\r\n                              <CardBody>\r\n                                <Row key={index}>\r\n                                  <Col xs=\"4\" md=\"4\">\r\n                                    <Input\r\n                                      type=\"text\"\r\n                                      name=\"SubSpecs\"\r\n                                      id=\"SubSpecs\"\r\n                                      value={item.howspecs.name}\r\n                                      disabled\r\n                                      className={Classes.inputSpec}\r\n                                    />\r\n                                  </Col>\r\n                                  <Col xs=\"4\" md=\"4\">\r\n                                    <Input\r\n                                      type=\"text\"\r\n                                      name={IDValue}\r\n                                      id={IDValue}\r\n                                      placeholder=\"عنوان مقدار مشخصات را وارد نمائید\"\r\n                                      value={item.value}\r\n                                      className={Classes.inputSpec}\r\n                                      onChange={(e) =>\r\n                                        handleValueSpecs(e, index)\r\n                                      }\r\n                                    />\r\n                                  </Col>\r\n                                  <Col xs=\"4\" md=\"4\">\r\n                                    <Input\r\n                                      type=\"text\"\r\n                                      name={IDLabel}\r\n                                      id={IDLabel}\r\n                                      placeholder=\"توضیحات مقدار مشخصات را وارد نمائید\"\r\n                                      value={item.label}\r\n                                      className={Classes.inputSpec}\r\n                                      onChange={(e) =>\r\n                                        handleValueLabelSpecs(e, index)\r\n                                      }\r\n                                    />\r\n                                  </Col>\r\n                                </Row>\r\n                              </CardBody>\r\n                            </Card>\r\n                          </Col>\r\n                        </Row>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </CardBody>\r\n\r\n              <Row>\r\n                <Col xs=\"12\" dir=\"rtl\">\r\n                  <FormGroup dir=\"rtl\">\r\n                    <label>توضیحات</label>\r\n                    <CKEditor\r\n                      editor={ClassicEditor}\r\n                      className=\"cke_rtl\"\r\n                      data={description}\r\n                      dir=\"rtl\"\r\n                      lan=\"fa\"\r\n                      onChange={(event, editor) =>\r\n                        descriptionHandler(event, editor)\r\n                      }\r\n                      contentsLanguage=\"ar\"\r\n                    />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className=\"mb-3 mr-3\">\r\n                <Col xs=\"6\" className={Classes.centercontain}>\r\n                  <div className={Classes.addFile}>\r\n                    <div className={Classes.addImage}>\r\n                      {imageServer ? (\r\n                        <label htmlFor=\"add_media\">ویرایش تصویر </label>\r\n                      ) : (\r\n                        <label htmlFor=\"add_media\">گزینش تصویر</label>\r\n                      )}\r\n                    </div>\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"add_media\"\r\n                      name=\"add_media\"\r\n                      onChange={handlerImage}\r\n                    />\r\n                  </div>\r\n                </Col>\r\n                <Col xs=\"6\">\r\n                  {imageServer ? (\r\n                    <img\r\n                      className={Classes.imageBrand}\r\n                      src={`${process.env.REACT_APP_BASE_URL}${imageServer}`}\r\n                      alt={imageServer}\r\n                    />\r\n                  ) : image ? (\r\n                    <img\r\n                      className={Classes.imageBrand}\r\n                      src={image}\r\n                      alt={image}\r\n                    />\r\n                  ) : null}\r\n                </Col>\r\n              </Row>\r\n\r\n              <CardFooter>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  size=\"sm\"\r\n                  onClick={submitEditProduct}\r\n                >\r\n                  {SubmitLoading ? <Spinner size=\"sm\" /> : \"ویرایش محصول\"}\r\n                </Button>\r\n              </CardFooter>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Editproduct;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BOX\":\"product_BOX__139QT\",\"delete\":\"product_delete__3RrQt\",\"edit\":\"product_edit__2x7Xa\",\"editRemove\":\"product_editRemove__sU-gs\",\"addPlus\":\"product_addPlus__27v03\",\"color\":\"product_color__2Tg0i\",\"inputSpec\":\"product_inputSpec__xCzHI\",\"addFile\":\"product_addFile__Oj7nv\",\"inputFile\":\"product_inputFile__8stA2\",\"addImage\":\"product_addImage__3pZvw\",\"centercontain\":\"product_centercontain__3_qyw\",\"imageBrand\":\"product_imageBrand__2vQA2\",\"td\":\"product_td__DD3jU\",\"tabel\":\"product_tabel__kEvrV\",\"iconBox\":\"product_iconBox__1Ndss\",\"Box\":\"product_Box__12g2x\",\"Boxred\":\"product_Boxred__3hMbd\",\"BoxValue\":\"product_BoxValue__J0uCi\",\"BoxMainMedia\":\"product_BoxMainMedia__11LV4\",\"BoxMedia\":\"product_BoxMedia__qxPRi\",\"removeBtnImage\":\"product_removeBtnImage__3LkJU\"};","import { toast } from \"react-toastify\";\r\n\r\nexport const fileType = (event, dragDrop) => {\r\n  let files;\r\n  if (dragDrop) {\r\n    files = event.dataTransfer.files;\r\n  } else {\r\n    files = event.target.files;\r\n  }\r\n\r\n  let error = \"\";\r\n  const types = [\"image/jpeg\", \"image/jpg\", \"image/png\"];\r\n  for (let index = 0; index < files.length; index++) {\r\n    const file = files[index];\r\n    if (types.every((type) => type !== file.type)) {\r\n      error = \"فرمت فایل انتخاب شده صحیح نمی باشد\";\r\n    }\r\n  }\r\n  if (error !== \"\") {\r\n    toast.error(error);\r\n    event.target.value = null;\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport const selectMaxFile = (event, dragDrop) => {\r\n  let files;\r\n  if (dragDrop) {\r\n    files = event.dataTransfer.files;\r\n  } else {\r\n    files = event.target.files;\r\n  }\r\n  let error = \"\";\r\n  if (files.length > 3) {\r\n    error = \"تعداد تصاویر بیش از 3 تصویر مجاز نیست\";\r\n  }\r\n  if (error !== \"\") {\r\n    toast.error(error);\r\n    event.target.value = null;\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport const maxFileSize = (event, dragDrop) => {\r\n  let files;\r\n  if (dragDrop) {\r\n    files = event.dataTransfer.files;\r\n  } else {\r\n    files = event.target.files;\r\n  }\r\n  let error = \"\";\r\n  const size = 3000000;\r\n  for (let index = 0; index < files.length; index++) {\r\n    const file = files[index];\r\n    if (file.size > size) {\r\n      error = \"حجم تصویر باید کمتر از 3 مگابایت باشد \";\r\n    }\r\n  }\r\n  if (error !== \"\") {\r\n    toast.error(error);\r\n    event.target.value = null;\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n"],"sourceRoot":""}