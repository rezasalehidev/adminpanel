(this.webpackJsonpadminpanel=this.webpackJsonpadminpanel||[]).push([[64],{1022:function(e,a,t){"use strict";t.r(a);var n=t(533),c=t(160),l=t(1),r=t.n(l),o=t(540),d=t(541),i=t(535),u=t(538),m=t(542),s=t(536),_=t(548),p=(t(539),t(544)),g=t(82),f=t.n(g),h=t(531),E=t.n(h),v=t(552),b=t.n(v),x=t(581);a.default=function(e){var a=e.match.params.productId,t=Object(l.useState)([]),g=Object(c.a)(t,2),h=g[0],v=g[1],I=Object(l.useState)([]),B=Object(c.a)(I,2),M=B[0],O=B[1],j=Object(l.useState)(!1),S=Object(c.a)(j,2),k=S[0],y=S[1];a||e.history.replace("/dashboard"),Object(l.useEffect)((function(){f()({url:"/",method:"post",data:{query:"\n        query getAllProduct($page:Int,$limit:Int,$productId:ID){\n            getAllProduct(page:$page,limit:$limit,productId:$productId){\n              _id,\n              fname,\n              images{\n               _id,\n               dir\n            }\n            }\n            }\n            ",variables:{page:1,limit:30,productId:a}}}).then((function(e){if(e.data.errors)p.b.error("\u062e\u0637\u0627 \u062f\u0631 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a");else{var a=e.data.data.getAllProduct;O(a[0].images),v(a)}})).catch((function(e){return console.log(e)}))}),[a]);var N=function(){y(!k)};return r.a.createElement("div",{className:"animated fadeIn"},r.a.createElement(p.a,null),r.a.createElement(o.a,null,r.a.createElement(d.a,{xs:"12"},r.a.createElement(i.a,null,h.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",{style:{fontSize:"20px"}},"\u0646\u0627\u0645 \u0645\u062d\u0635\u0648\u0644 : ",h[0].fname),r.a.createElement(m.a,{className:"btn-success",onClick:N},"\u0627\u0646\u062a\u062e\u0627\u0628 \u0639\u06a9\u0633")),r.a.createElement(s.a,null,r.a.createElement("div",{className:b.a.BoxMainMedia},M.length>0?M.map((function(e,a){return r.a.createElement("div",{className:b.a.BoxMedia,key:a},r.a.createElement("img",{src:"".concat("https://proshop50.herokuapp.com").concat(e.dir),alt:e.dir}),r.a.createElement("span",{className:b.a.removeBtnImage,onClick:function(a){return function(e,a){var t=Object(n.a)(M),c=t.findIndex((function(e){return e._id===a}));console.log(c),t.splice(c,1),O(t)}(0,e._id)}},r.a.createElement("i",{className:"fa fa-remove fa-lg"})))})):null)),r.a.createElement(_.a,null,r.a.createElement(m.a,{className:"btn-success",onClick:function(e){var t=Object(n.a)(M),c=[];t.map((function(e){return c.push(e._id)})),f()({url:"/",method:"post",data:{query:"\n           mutation updateProductGallery($productId:ID!,$imageId:[ID!]!){\n               updateProductGallery(productId:$productId,imageId:$imageId){\n                 status,\n                 message\n               }\n             }\n          ",variables:{productId:a,imageId:c}}}).then((function(e){var a=e.data.data.updateProductGallery,t=a.status,n=a.message;200===t?p.b.success(n):p.b.error(n)}))}},"\u062b\u0628\u062a \u062a\u0635\u0627\u0648\u06cc\u0631 \u06af\u0627\u0644\u0631\u06cc"))):r.a.createElement("center",null,r.a.createElement(E.a,{size:"sm"}))))),k?r.a.createElement(x.a,{success:k,toggleSuccess:N,addImage:function(e,a){var t=Object(n.a)(M);t.push({_id:e,dir:a}),O(t)}}):null)}},552:function(e,a,t){e.exports={BOX:"product_BOX__139QT",delete:"product_delete__3RrQt",edit:"product_edit__2x7Xa",editRemove:"product_editRemove__sU-gs",addPlus:"product_addPlus__27v03",color:"product_color__2Tg0i",inputSpec:"product_inputSpec__xCzHI",addFile:"product_addFile__Oj7nv",inputFile:"product_inputFile__8stA2",addImage:"product_addImage__3pZvw",centercontain:"product_centercontain__3_qyw",imageBrand:"product_imageBrand__2vQA2",td:"product_td__DD3jU",tabel:"product_tabel__kEvrV",iconBox:"product_iconBox__1Ndss",Box:"product_Box__12g2x",Boxred:"product_Boxred__3hMbd",BoxValue:"product_BoxValue__J0uCi",BoxMainMedia:"product_BoxMainMedia__11LV4",BoxMedia:"product_BoxMedia__qxPRi",removeBtnImage:"product_removeBtnImage__3LkJU"}},568:function(e,a,t){e.exports={AllMediaSection:"allmedia_AllMediaSection__3ovEx",mediaSection:"allmedia_mediaSection__3t4et",ModalAllMediaSection:"allmedia_ModalAllMediaSection__3QNCD",ModalMediaSection:"allmedia_ModalMediaSection__3ZW3Q",checkBox:"allmedia_checkBox__3p3Br",BoxImage:"allmedia_BoxImage__2a8Kd"}},581:function(e,a,t){"use strict";var n=t(533),c=t(160),l=t(1),r=t.n(l),o=t(571),d=t(566),i=t(540),u=t(541),m=t(554),s=t(555),_=t(546),p=t(551),g=t(567),f=t(568),h=t.n(f),E=t(82),v=t.n(E),b=t(531),x=t.n(b);a.a=function(e){var a=Object(l.useState)([]),t=Object(c.a)(a,2),f=t[0],E=t[1],b=Object(l.useState)([]),I=Object(c.a)(b,2),B=I[0],M=I[1],O=Object(l.useState)(!0),j=Object(c.a)(O,2),S=j[0],k=j[1],y=Object(l.useState)(""),N=Object(c.a)(y,2),A=N[0],C=N[1],$=e.toggleSuccess,P=e.success,w=e.addImage;return Object(l.useEffect)((function(){v()({url:"/",method:"post",data:{query:"\n            query getAllMultimedia($page:Int,$limit:Int){\n                getAllMultimedia(page :$page , limit :$limit){\n                  _id,\n                  name,\n                  dir,\n                  format,\n                  dimWidth,\n                  dimHeight,\n                  createdAt\n                }\n              },\n            ",variables:{page:1,limit:50}}}).then((function(e){for(var a=e.data.data.getAllMultimedia,t=0;t<a.length;t++){a[t].checked=!1}E(a),M(a),k(!1)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{className:"animated fadeIn"},r.a.createElement(o.a,{isOpen:P,toggle:$,className:"modal-lg "+e.className},r.a.createElement(d.a,{toggle:$},r.a.createElement(i.a,null,r.a.createElement(u.a,{md:"12",xs:"10"},r.a.createElement(m.a,null,r.a.createElement(s.a,{addonType:"append"},r.a.createElement(_.a,null,"\u062c\u0633\u062a\u062c\u0648 \u062a\u0635\u0648\u06cc\u0631")),r.a.createElement(p.a,{placeholder:"\u062c\u0633\u062a\u062c\u0648 \u06a9\u0646\u06cc\u062f.....",value:A,onChange:function(e){C(e.target.value);var a=B.filter((function(a){var t=a.name.toLowerCase(),n=e.target.value.toLowerCase();return t.indexOf(n)>-1}));E(a)}}))))),r.a.createElement(g.a,null,r.a.createElement("div",{className:h.a.ModalAllMediaSection},S?r.a.createElement(x.a,{animation:"grow",size:"sm"}):f.map((function(e,a){return r.a.createElement("div",{className:h.a.ModalMediaSection,key:e._id},r.a.createElement("label",{htmlFor:"imageCheckBox".concat(a),onChange:function(){w(e._id,e.dir),function(e){var a=Object(n.a)(f),t=a.filter((function(a){return a._id===e}));t[0].checked=!t[0].checked,E(a)}(e._id)}},r.a.createElement("input",{type:"checkbox",className:h.a.checkBox,id:"imageCheckBox".concat(a)}),r.a.createElement("img",{src:"".concat("https://proshop50.herokuapp.com").concat(e.dir),alt:e.dir,name:"imageCheckBox".concat(a)})))}))))))}}}]);
//# sourceMappingURL=64.31fecfdd.chunk.js.map